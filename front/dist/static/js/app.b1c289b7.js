(function(t){function e(e){for(var a,s,r=e[0],c=e[1],l=e[2],u=0,f=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},i=[];function s(t){return r.p+"static/js/"+({about:"about"}[t]||t)+"."+{about:"56ec61b7"}[t]+".js"}function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=o[t]=[e,a]}));e.push(n[2]=a);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=s(t);var l=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,n[1](l)}o[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"08bd":function(t,e,n){"use strict";var a=n("92be"),o=n.n(a);o.a},"40c1":function(t,e,n){n("c975"),n("ac1f"),n("5319");var a=n("7037");(function(t){"use strict";if("undefined"===typeof t)throw new Error("Geetest requires browser environment");var e=t.document,n=t.Math,o=e.getElementsByTagName("head")[0];function i(t){this._obj=t}function s(t){var e=this;new i(t)._each((function(t,n){e[t]=n}))}i.prototype={_each:function(t){var e=this._obj;for(var n in e)e.hasOwnProperty(n)&&t(n,e[n]);return this}},s.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){var t=this;return c(t.type)?t.fallback_config[t.type]:t.new_captcha?t.fallback_config.fullpage:t.fallback_config.slide},_extend:function(t){var e=this;new i(t)._each((function(t,n){e[t]=n}))}};var r=function(t){return"number"===typeof t},c=function(t){return"string"===typeof t},l=function(t){return"boolean"===typeof t},u=function(t){return"object"===a(t)&&null!==t},p=function(t){return"function"===typeof t},f=/Mobi/i.test(navigator.userAgent),d=f?3:0,m={},g={},v=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,a=t.getDate(),o=t.getHours(),i=t.getMinutes(),s=t.getSeconds();return n>=1&&n<=9&&(n="0"+n),a>=0&&a<=9&&(a="0"+a),o>=0&&o<=9&&(o="0"+o),i>=0&&i<=9&&(i="0"+i),s>=0&&s<=9&&(s="0"+s),e+"-"+n+"-"+a+" "+o+":"+i+":"+s},h=function(){return parseInt(1e4*n.random())+(new Date).valueOf()},b=function(t,n){var a=e.createElement("script");a.charset="UTF-8",a.async=!0,/static\.geetest\.com/g.test(t)&&(a.crossOrigin="anonymous"),a.onerror=function(){n(!0)};var i=!1;a.onload=a.onreadystatechange=function(){i||a.readyState&&"loaded"!==a.readyState&&"complete"!==a.readyState||(i=!0,setTimeout((function(){n(!1)}),0))},a.src=t,o.appendChild(a)},w=function(t){return t.replace(/^https?:\/\/|\/$/g,"")},_=function(t){return t=t.replace(/\/+/g,"/"),0!==t.indexOf("/")&&(t="/"+t),t},y=function(t){if(!t)return"";var e="?";return new i(t)._each((function(t,n){(c(n)||r(n)||l(n))&&(e=e+encodeURIComponent(t)+"="+encodeURIComponent(n)+"&")})),"?"===e&&(e=""),e.replace(/&$/,"")},k=function(t,e,n,a){e=w(e);var o=_(n)+y(a);return e&&(o=t+e+o),o},S=function(t,e,n,a,o,i,s){var r=function r(c){var l=k(n,a[c],o,i);b(l,(function(i){if(i)if(c>=a.length-1){if(s(!0),e){t.error_code=508;var l=n+a[c]+o;F(t,l)}}else r(c+1);else s(!1)}))};r(0)},x=function(e,n,a,o){if(u(a.getLib))return a._extend(a.getLib),void o(a);if(a.offline)o(a._get_fallback_config());else{var i="geetest_"+h();t[i]=function(e){"success"==e.status?o(e.data):e.status?o(a._get_fallback_config()):o(e),t[i]=void 0;try{delete t[i]}catch(n){}},S(a,!0,a.protocol,e,n,{gt:a.gt,callback:i},(function(t){t&&o(a._get_fallback_config())}))}},F=function(t,e){S(t,!1,t.protocol,["monitor.geetest.com"],"/monitor/send",{time:v(),captcha_id:t.gt,challenge:t.challenge,pt:d,exception_url:e,error_code:t.error_code},(function(t){}))},C=function(t,e){var n={networkError:"网络错误",gtTypeError:"gt字段不是字符串类型"};if("function"!==typeof e.onError)throw new Error(n[t]);e.onError(n[t])},E=function(){return t.Geetest||e.getElementById("gt_lib")};E()&&(g.slide="loaded"),t.initGeetest=function(e,n){var a=new s(e);e.https?a.protocol="https://":e.protocol||(a.protocol=t.location.protocol+"//"),"050cffef4ae57b5d5e529fea9540b0d1"!==e.gt&&"3bd38408ae4af923ed36e13819b14d42"!==e.gt||(a.apiserver="yumchina.geetest.com/",a.api_server="yumchina.geetest.com"),e.gt&&(t.GeeGT=e.gt),e.challenge&&(t.GeeChallenge=e.challenge),u(e.getType)&&a._extend(e.getType),x([a.api_server||a.apiserver],a.typePath,a,(function(e){var o=e.type,i=function(){a._extend(e),n(new t.Geetest(a))};m[o]=m[o]||[];var s=g[o]||"init";"init"===s?(g[o]="loading",m[o].push(i),S(a,!0,a.protocol,e.static_servers||e.domains,e[o]||e.path,null,(function(t){if(t)g[o]="fail",C("networkError",a);else{g[o]="loaded";for(var e=m[o],n=0,i=e.length;n<i;n+=1){var s=e[n];p(s)&&s()}m[o]=[]}}))):"loaded"===s?i():"fail"===s?C("networkError",a):"loading"===s&&m[o].push(i)}))}})(window)},"540e":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=n("a7fe"),i=n.n(o),s=n("bc3a"),r=n.n(s),c=n("9483");Object(c["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("d3b7");var l=n("8c4f"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swan"},[n("el-container",[n("el-header",{staticStyle:{padding:"0"},attrs:{height:"70px"}},[n("div",[n("div",{staticClass:"swan-title"},[n("b",[t._v("天鹅肉")])]),n("div",{staticClass:"swan-sign"},[t.visibleSignBt?n("div",[n("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){return t.signin()}}},[t._v("Log in")]),n("span",[t._v(" | ")]),n("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){return t.signup()}}},[t._v("Sign up")])],1):n("div",[n("el-dropdown",{on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[t._v(" "+t._s(this.nickName))]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"a"}},[t._v("登出")])],1)],1)],1)])])]),n("el-main",{staticStyle:{padding:"0"}},[n("div",{staticClass:"swan-tabs"},[n("el-tabs",{attrs:{"before-leave":t.beforeLeave},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"烤箱",name:"oven"}},[n("oven",{attrs:{activeName:t.activeName}})],1),n("el-tab-pane",{attrs:{label:"橱窗",name:"window"}},[n("window",{attrs:{activeName:t.activeName}})],1)],1)],1)])],1),n("div",[n("el-dialog",{attrs:{title:"Log in","custom-class":"swan-dialog",visible:t.visibleSignIn,modal:!1,top:"200px","destroy-on-close":!0},on:{"update:visible":function(e){t.visibleSignIn=e}}},[n("el-form",{ref:"inForm",staticClass:"swan-input",attrs:{model:t.inForm,rules:t.inRules}},[n("el-form-item",{attrs:{label:"Name",prop:"username"}},[n("el-input",{model:{value:t.inForm.username,callback:function(e){t.$set(t.inForm,"username",e)},expression:"inForm.username"}})],1),n("el-form-item",{attrs:{label:"Password",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:t.inForm.password,callback:function(e){t.$set(t.inForm,"password",e)},expression:"inForm.password"}})],1),n("el-form-item",[n("div",{staticClass:"capBox"},[n("div",{staticStyle:{"min-width":"200px"},attrs:{id:"captchaBox"}})])]),n("el-form-item",{staticClass:"submit-bt"},[n("span",{staticClass:"login-bt"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitInForm("inForm")}}},[t._v("Log in")])],1),n("span",[t._v(" | ")]),n("span",{staticClass:"signup-bt"},[n("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){return t.signup()}}},[t._v("Sign up")])],1)])],1)],1)],1),n("el-dialog",{attrs:{title:"Sign up",visible:t.visibleSignUp,"custom-class":"swan-dialog",top:"200px",modal:!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.visibleSignUp=e}}},[n("el-form",{ref:"upForm",staticClass:"swan-input",attrs:{model:t.upForm,rules:t.upRules}},[n("el-form-item",{attrs:{label:"Name",prop:"username"}},[n("el-input",{model:{value:t.upForm.username,callback:function(e){t.$set(t.upForm,"username",e)},expression:"upForm.username"}})],1),n("el-form-item",{attrs:{label:"Nickname",prop:"nickname"}},[n("el-input",{model:{value:t.upForm.nickname,callback:function(e){t.$set(t.upForm,"nickname",e)},expression:"upForm.nickname"}})],1),n("el-form-item",{attrs:{label:"Password",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:t.upForm.password,callback:function(e){t.$set(t.upForm,"password",e)},expression:"upForm.password"}})],1),n("el-form-item",{attrs:{label:"Confirm Password",prop:"checkpass"}},[n("el-input",{attrs:{type:"password"},model:{value:t.upForm.checkpass,callback:function(e){t.$set(t.upForm,"checkpass",e)},expression:"upForm.checkpass"}})],1),n("el-form-item",{staticClass:"upFormPhone",attrs:{label:"Phone",prop:"phone"}},[n("el-input",{attrs:{size:"medium "},model:{value:t.upForm.phone,callback:function(e){t.$set(t.upForm,"phone",e)},expression:"upForm.phone"}}),n("el-input",{staticStyle:{width:"40%"},attrs:{size:"medium",placeholder:"验证码"},model:{value:t.upForm.code,callback:function(e){t.$set(t.upForm,"code",e)},expression:"upForm.code"}}),n("span",{staticClass:"Captcha-bt"},[n("el-button",{attrs:{type:"primary",disabled:!t.capButtonShow},on:{click:t.sentCaptcha}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.capButtonShow,expression:"capButtonShow"}]},[t._v("验证码")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.capButtonShow,expression:"!capButtonShow"}]},[t._v(t._s(t.count)+" s")])])],1)],1),n("el-form-item",{staticClass:"submit-bt"},[n("span",{staticClass:"create-bt"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitupForm("upForm")}}},[t._v("Create Account")])],1),n("span",[t._v(" | ")]),n("span",{staticClass:"signup-bt"},[n("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){return t.signin()}}},[t._v("Log in")])],1)])],1)],1)],1)},p=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oven"},[a("div",[a("div",{staticClass:"creatMeatButton"},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){return t.dialogCreate(e)}}},[a("img",{attrs:{src:n("f5c6")}})])],1),a("el-card",{staticClass:"card"},[a("el-scrollbar",{staticStyle:{height:"100%"}},[t.meatList.length>0?a("el-row",t._l(t.meatList,(function(e,o){return a("el-col",{key:o,attrs:{span:24}},[a("div",{staticClass:"swan-card"},[a("el-card",{attrs:{shadow:"hover"}},[a("span",{staticClass:"meat-content"},[t._v(t._s(e.content))]),a("span",{staticClass:"meat-status"},[a("div",{staticClass:"statuss"},[t._v(t._s(t.meatStatus(e.status)))]),a("div",{staticClass:"target"},[t._v(t._s(t._f("formatDate")(e.time)))]),a("div",{staticClass:"meatStatusDrop"},[1===e.status?a("el-dropdown",{attrs:{trigger:"click"}},[a("img",{staticStyle:{width:"40px"},attrs:{src:n("d380")}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(n){return t.handleStatus(e.mid,2)}}},[t._v("吃到了")]),a("el-dropdown-item",{nativeOn:{click:function(n){return t.handleStatus(e.mid,3)}}},[t._v("下次一定")])],1)],1):t._e()],1)])])],1)])})),1):t._e()],1)],1)],1),a("el-dialog",{attrs:{title:"菜单",visible:t.visibleCreate,"custom-class":"swan-dialog",top:"200px",modal:!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.visibleCreate=e}}},[a("el-form",{ref:"createMeatForm",staticClass:"swan-input",attrs:{model:t.createMeatForm,rules:t.createMeatRules}},[a("el-form-item",{attrs:{label:"天鹅肉",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"取个名字吧"},model:{value:t.createMeatForm.content,callback:function(e){t.$set(t.createMeatForm,"content",e)},expression:"createMeatForm.content"}})],1),a("el-form-item",{staticClass:"target-time",attrs:{label:"加热时间",prop:"target_time"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp"},model:{value:t.createMeatForm.target_time,callback:function(e){t.$set(t.createMeatForm,"target_time",e)},expression:"createMeatForm.target_time"}})],1),a("el-form-item",{attrs:{label:"短信提醒",prop:"notification"}},[a("el-switch",{model:{value:t.createMeatForm.notification,callback:function(e){t.$set(t.createMeatForm,"notification",e)},expression:"createMeatForm.notification"}}),t.createMeatForm.notification?a("span",{staticStyle:{"font-size":"7px","font-weight":"bold"}},[t._v(" 技术原因待开发")]):t._e()],1),a("el-form-item",{staticClass:"submit-bt"},[a("span",{staticClass:"login-bt"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitMeatForm}},[t._v("PUSH!")])],1)])],1)],1),a("el-dialog",{attrs:{title:"吃了吗",visible:t.visibleCreate,"custom-class":"swan-dialog",top:"200px",modal:!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.visibleCreate=e}}})],1)},d=[];n("4d63"),n("ac1f"),n("25f0"),n("5319");function m(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var a in n)if(new RegExp("(".concat(a,")")).test(e)){var o=n[a]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?o:g(o))}return e}function g(t){return("00"+t).substr(t.length)}var v={name:"oven",props:["activeName"],data:function(){var t=function(t,e,n){""===e?n(new Error("快给这块肉取个名儿！")):(e.length<3&&n(new Error("哥哥 至少三个字吧！")),n())},e=function(t,e,n){""===e?n(new Error("设定个加热时间！")):n()};return{geetestStatus:!1,visibleCreate:!1,meatList:[],createMeatForm:{content:"",target_time:"",notification:!1},createMeatRules:{content:[{validator:t,trigger:"blur"}],target_time:[{validator:e,trigger:"blur"}]}}},methods:{handleStatus:function(t,e){var n=this;this.$confirm("长官即将确认状态且无法逆转, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={mid:t,status:e};n.axios.post("meat/status",a).then((function(t){console.log(t),"OK"===t.data.msg?(n.$notify({title:"成功",message:"确认成功！",type:"success"}),n.getMeatList()):n.$notify({title:"出现了一些小问题",message:t.data.msg+" "+t.data.identifier,type:"error"})}))})).catch((function(){n.$notify({title:"",message:"已终止确认",type:"info"})}))},dialogCreate:function(){this.visibleCreate=!0},meatStatus:function(t){return 0===t?"还没熟":1===t?"到点啦":2===t?"吃到啦":3===t?"下次一定":void 0},getMeatList:function(){var t=this;this.axios.get("meat/").then((function(e){"OK"===e.data.msg&&(t.meatList=e.data.body,console.log(t.meatList))}))},getGeetest:function(){var t=this;this.axios.get("base/geetest/getcaptcha").then((function(e){var n=e.data;initGeetest({gt:n.gt,challenge:n.challenge,offline:!n.success,new_captcha:!0,product:"bind",width:"200px"},(function(e){e.onReady((function(){e.verify()})).onSuccess((function(){t.validResult=e.getValidate(),console.log(t.validResult),t.axiosValidate()})).onError((function(){}))}))})).catch((function(t){console.log(t)}))},axiosValidate:function(){var t=this;this.axios.post("base/geetest/axiosvalidate",this.validResult).then((function(e){t.geetestStatus=e.data.status,t.geetestStatus?t.pushMest():t.$notify.error({title:"error",message:"验证错误稍后再试"})}))},pushMest:function(){var t=this;console.log(this.createMeatForm),this.axios.post("meat/create",this.createMeatForm).then((function(e){console.log(e),"OK"===e.data.msg?(t.$notify({title:"成功",message:"成功塞进烤箱啦！",type:"success"}),t.visibleCreate=!1,t.getMeatList()):"MEAT_QUANTITY"===e.data.identifier?t.$notify({title:"失败",message:"宝贝 事不过三哦~~",type:"error"}):t.$notify({title:"失败",message:e.data.msg,type:"error"})}))},submitMeatForm:function(){var t=this;this.$refs.createMeatForm.validate((function(e){if(!e)return!1;t.getGeetest()}))}},watch:{activeName:function(t){"oven"===t&&this.getMeatList()}},filters:{formatDate:function(t){t*=1e3;var e=new Date(t);return m(e,"yyyyMMdd")}},created:function(){},mounted:function(){this.getMeatList()}},h=v,b=(n("08bd"),n("2877")),w=Object(b["a"])(h,f,d,!1,null,"bf39a328",null),_=w.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"window"},[n("div",[n("el-card",{staticClass:"card"},[n("el-scrollbar",{staticStyle:{height:"100%"}},[t.meatList.length>0?n("el-row",t._l(t.meatList,(function(e,a){return n("el-col",{key:a,attrs:{span:24}},[n("div",{staticClass:"swan-card"},[n("el-card",{attrs:{shadow:"hover"}},[n("span",{staticClass:"meat-content"},[t._v(t._s(e.content))]),n("span",{staticClass:"meat-status"},[n("div",{staticClass:"statuss"},[t._v(t._s(t.meatStatus(e.status)))]),n("div",{staticClass:"target"},[t._v(t._s(t._f("formatDate")(e.time)))])])])],1)])})),1):t._e()],1)],1)],1)])},k=[],S={name:"window",props:["activeName"],data:function(){return{meatList:[]}},methods:{meatStatus:function(t){return 0===t?"还没熟":1===t?"到点啦":2===t?"吃到啦":3===t?"下次一定":void 0},getMeatList:function(){var t=this;this.axios.get("meat/pool").then((function(e){"OK"===e.data.msg&&(t.meatList=e.data.body,console.log(t.meatList))}))}},watch:{activeName:function(t){"window"===t&&this.getMeatList()}},filters:{formatDate:function(t){t*=1e3;var e=new Date(t);return m(e,"yyyyMMdd")}},created:function(){},mounted:function(){this.getMeatList()}},x=S,F=Object(b["a"])(x,y,k,!1,null,"7dd95608",null),C=F.exports;n("40c1");function E(t){var e;return e=/^1[3|4|5|7|8][0-9]\d{8}$/,e.test(t)}var M={name:"Akiswan",components:{Window:C,Oven:_},data:function(){var t=this,e=function(t,e,n){""===e?n(new Error("请输入昵称")):n()},n=function(e,n,a){""===n?a(new Error("请输入密码")):(t.upForm.password.length<6&&a(new Error("密码最小长度6位")),t.upForm.password.length>32&&a(new Error("密码最大长度32位")),a())},a=function(t,e,n){e?E(e)?n():n(new Error("请输入正确的11位手机号码")):n(new Error("请输入电话号码"))},o=function(t,e,n){""===e?n(new Error("请输入密码")):n()},i=function(t,e,n){""===e?n(new Error("请输入用户名")):n()},s=function(e,n,a){""===n?a(new Error("请再次输入密码")):n!==t.upForm.password?a(new Error("两次输入密码不一致!")):a()};return{inForm:{username:"",password:""},upForm:{username:"",nickname:"",password:"",checkpass:"",phone:"",code:""},upRules:{username:[{validator:i,trigger:"blur"}],nickname:[{validator:e,trigger:"blur"}],password:[{validator:n,trigger:"blur"}],checkpass:[{validator:s,trigger:"blur"}],phone:[{validator:a,trigger:"blur"}]},inRules:{password:[{validator:o,trigger:"blur"}],username:[{validator:i,trigger:"blur"}]},ipForm:{username:"",password:"",Nickname:"",phone:""},visibleSignIn:!1,visibleSignUp:!1,visibleSignBt:!0,activeName:"window",nickName:"",validResult:[],validRegResult:[],geetestStatus:!1,capButtonShow:!0,count:"",timber:null}},methods:{beforeLeave:function(t,e){if(console.log(t,e),"oven"===t&&!window.sessionStorage.getItem("token"))return this.$notify({title:"",message:"请先登录哦",type:"warning"}),!1},handleCommand:function(t){"a"===t&&(window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("nickname"),this.visibleSignBt=!0)},submitInForm:function(t){var e=this;this.$refs[t].validate((function(t){return t?(console.log(e.validResult),0===e.validResult.length?alert("请完成验证"):void e.axiosValidate("login")):(console.log("error submit!!"),!1)}))},submitupForm:function(t){var e=this;this.$refs[t].validate((function(t){return t?(console.log(e.validRegResult),0===e.validRegResult.length?alert("请完成验证"):void e.goSignup()):(console.log("error submit!!"),!1)}))},getGeetestReg:function(){var t=this;this.axios.get("base/geetest/getcaptcha").then((function(e){var n=e.data;initGeetest({gt:n.gt,challenge:n.challenge,offline:!n.success,new_captcha:!0,product:"bind",width:"200px"},(function(e){e.onReady((function(){e.verify()})).onSuccess((function(){t.validRegResult=e.getValidate(),console.log(t.validRegResult),t.axiosValidate("create")})).onError((function(){}))}))})).catch((function(t){console.log(t)}))},getGeetest:function(){var t=this;this.axios.get("base/geetest/getcaptcha").then((function(e){var n=e.data;initGeetest({gt:n.gt,challenge:n.challenge,offline:!n.success,new_captcha:!0,product:"float",width:"100px"},(function(e){e.appendTo("#captchaBox"),e.onReady((function(){})).onSuccess((function(){t.validResult=e.getValidate()})).onError((function(){}))}))})).catch((function(t){console.log(t)}))},axiosValidate:function(t){var e=this,n=[];n="create"===t?this.validRegResult:this.validResult,this.axios.post("base/geetest/axiosvalidate",n).then((function(n){e.geetestStatus=n.data.status,e.geetestStatus?"login"===t?e.goLogin():"create"===t&&e.registerCaptchaPhone():e.$notify.error({title:"error",message:"验证错误稍后再试"})}))},goSignup:function(){var t=this;console.log(this.upForm),this.axios.post("user/",this.upForm).then((function(e){console.log(e),"OK"===e.data.msg?(t.$notify({title:"成功",message:"注册成功",type:"success"}),t.signin()):t.$notify({title:"错误",message:e.data.msg,type:"error"})}))},goLogin:function(){var t=this;console.log(this.inForm),this.axios.post("user/token",this.inForm).then((function(e){console.log(e),"OK"===e.data.msg?(t.$notify({title:"成功",message:"登陆成功",type:"success"}),window.sessionStorage.setItem("token",e.data.body.token),t.nickName=e.data.body.user.nickname,window.sessionStorage.setItem("nickname",e.data.body.user.nickname),t.checkToken(),t.visibleSignIn=!t.visibleSignIn):"PASSWORD"===e.data.identifier?t.$notify.error({title:"错误",message:"密码错误,请重试"}):t.$notify.error({title:"错误",message:"账户不存在,请重试"})})).catch((function(t){console.log(t)}))},registerCaptchaPhone:function(){var t=this,e={phone:this.upForm.phone};this.axios.post("user/registerCaptcha",e).then((function(e){if(console.log(e),e.data.body.send){t.$notify.success({title:"yes！",message:e.data.body.toast_msg});var n=60;t.timer||(t.count=n,t.capButtonShow=!1,t.timer=setInterval((function(){t.count>0&&t.count<=n?t.count--:(t.capButtonShow=!0,clearInterval(t.timer),t.timer=null)}),1e3))}else t.$notify.error({title:"错误",message:e.data.body.toast_msg})}))},sentCaptcha:function(){var t=this;this.$refs.upForm.validateField("phone",(function(e){if(e)return!1;t.getGeetestReg()}))},signin:function(){this.visibleSignUp=this.visibleSignIn,this.visibleSignIn=!this.visibleSignIn,this.geetestStatus=!1,this.getGeetest()},signup:function(){this.visibleSignIn=this.visibleSignUp,this.visibleSignUp=!this.visibleSignUp},checkToken:function(){window.sessionStorage.getItem("token")?(this.visibleSignBt=!1,this.nickName=window.sessionStorage.getItem("nickname")):this.visibleSignBt=!0}},mounted:function(){this.checkToken()},created:function(){}},A=M,j=(n("d2ba"),Object(b["a"])(A,u,p,!1,null,null,null)),R=j.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),a("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},L=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._m(0),n("h3",[t._v("Installed CLI Plugins")]),t._m(1),n("h3",[t._v("Essential Links")]),t._m(2),n("h3",[t._v("Ecosystem")]),t._m(3)])},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(" For a guide and recipes on how to configure / customize this project,"),n("br"),t._v(" check out the "),n("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(". ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa",target:"_blank",rel:"noopener"}},[t._v("pwa")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[t._v("router")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[t._v("eslint")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),n("li",[n("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),n("li",[n("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),n("li",[n("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],B={name:"HelloWorld",props:{msg:String}},T=B,N=(n("f5bc"),Object(b["a"])(T,$,I,!1,null,"45906581",null)),P=N.exports,U={name:"Home",components:{HelloWorld:P}},G=U,D=Object(b["a"])(G,O,L,!1,null,null,null),V=D.exports;a["default"].use(l["a"]);var J=[{path:"/",name:"Akiswan",component:R,meta:{title:"天鹅肉"}},{path:"/home",name:"Home",component:V},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],q=new l["a"]({mode:"history",base:"",routes:J});q.beforeEach((function(t,e,n){t.meta.title&&(document.title=t.meta.title),n()}));var H=q,Y=n("2f62");a["default"].use(Y["a"]);var K=new Y["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Q=n("5c96"),Z=n.n(Q);n("c69f");a["default"].use(Z.a);n("f524");r.a.interceptors.request.use((function(t){return t.headers.token=window.sessionStorage.getItem("token"),t})),a["default"].config.productionTip=!1,a["default"].use(i.a,r.a),r.a.defaults.baseURL="/api",new a["default"]({router:H,store:K,render:function(t){return t(R)}}).$mount("#app")},"92be":function(t,e,n){},c69f:function(t,e,n){},ca93:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"static/img/logo.82b9c7a5.png"},d2ba:function(t,e,n){"use strict";var a=n("540e"),o=n.n(a);o.a},d380:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAABHNCSVQICAgIfAhkiAAAAtNJREFUWEft1F9IU1EcB/DfPVtqTZ2ZoqaRoyE6ys4ZZGXDoD8oGVFkD9FDGhhIZNJDFEpkhFoWWA9FYGJCoESIFT30UCyC0tq9l+06M25mS8l0OgY1t915bywwzJz7pyKx83i55/f73O/5nUvBMljUMjBABDF9CpEk/q8kMMb7EEIXRVFsZ1m2KZTbFvZM6HS6voqKiuyOjg4Xz/OZZrN5JFhI2Ii8vLze4uJijV6v9yLSLBaLbckRhJAShNBDSZLqnE5nrdlsdi8VQkYIOU5R1CkASKUoai0AWAHAAQDPBEG4ZjQaPweKCfY4EMb4REy0rHr75oTMrZuUkJ2pgPhYObjcInwfd8P7XjvoaZt7aMTZIghCHcdxX/1hgkHICSHN61JXHms6lyVLjF9BuQUJkhOj/uohShI4Jqfgxv0v0mP9mHdId9M03TcfJGAEIeS0KmPV9fpKdRTH/4DOF2Owa8tqKDuYPmd9bzKtXcPQ9mTkrUsQiwwGg90XJCBETk5OWkpyXP+9S5o4jv8Jja2DcLs6GzQbYkGGfJfwTElw+e6A9FQ/2sYwTGk4CKTVattL9qYcKT+cDpUN/VBTrvoNCGQNDDng6HmTbXLSvdNkMpnm2uM3idzcXJVcLu9+UL8x+eU7G1htAlSXqwDNk8DsRmeufpBeGSZOsizbHBJCq9UWpa6J7uy6hWNq73wCnTYBCvOTAgnhzzvP31jhwk2+labpspAQGOPSwvykloaqLL+p+ZJ9s7rgUBXb3d1j2BY0Qq1WRyuVypr9BUk1pQe8/6PQ1rhdgLONHwcn7I49HMdZAECYWWner8MYY4TQ69Ba/7uLoqhRQRAKjEbjUMAIjUYTpVAoMhYK4fF4phiGGQYAT0AIQkg9QqhooQAz64iieIVhmEfTz3weB8Z4BwCsXwwEQqiHpmneL2Ixmofzx1x0T8h3fyFlEURkMGfP07KYiV+Kvf8ish3UOwAAAABJRU5ErkJggg=="},f524:function(t,e,n){},f5bc:function(t,e,n){"use strict";var a=n("ca93"),o=n.n(a);o.a},f5c6:function(t,e,n){t.exports=n.p+"static/img/Button.e4999d2e.png"}});
//# sourceMappingURL=app.b1c289b7.js.map